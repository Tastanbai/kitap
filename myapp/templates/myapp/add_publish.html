{% extends 'base.html' %}
{% block css_file  %} 

<style>
    #rent-form {
        max-width: 500px; /* Максимальная ширина формы */
        margin: 0 auto; /* Центрирование формы на странице */
        padding: 20px; /* Внутренний отступ формы */
        border: 1px solid #ccc; /* Граница формы */
        border-radius: 5px; /* Скругление углов формы */
        background-color: #f9f9f9; /* Цвет фона формы */
    }

    .form-group {
        margin-bottom: 20px; /* Отступ между элементами формы */
    }

    .error_info {
        color: red; /* Цвет сообщений об ошибках */
    }

    .btn-primary {
        background-color: #007bff; /* Цвет фона кнопки */
        color: #fff; /* Цвет текста кнопки */
        border-color: #007bff; /* Цвет границы кнопки */
    }

    .btn-primary:hover {
        background-color: #0056b3; /* Цвет фона кнопки при наведении */
        border-color: #0056b3; /* Цвет границы кнопки при наведении */
    }
</style>
{% endblock  %}
 
{% block title %}
    Прокат книг
{% endblock title %}

{% block header-info %}
    <h3>Прокат книг</h3>
    <a href="{% url 'myapp:rent_book' %}" class="btn btn-default">На главную</a>
{% endblock header-info %}

{% comment %} {% block content %}
    <form id="rent-form" action="{% url 'myapp:add_publish' %}" method="post" novalidate>
        {% csrf_token %}

        <div class="form-group">
            <label for="id_name">{{ form.name.label }}</label>
            {{ form.name }}
            <span class="error_info">{{ form.name.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_iin">{{ form.iin.label }}</label>
            {{ form.iin }}
            <span class="error_info">{{ form.iin.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_date_out">{{ form.date_out.label }}</label>
            {{ form.date_out }}
            <span class="error_info">{{ form.date_out.errors.0 }}</span>
        </div>
        
        <div class="form-group">
            <label for="id_date_in">{{ form.date_in.label }}</label>
            {{ form.date_in }}
            <span class="error_info">{{ form.date_in.errors.0 }}</span>
        </div>
        
        <div class="form-group">
            <label for="id_city">{{ form.city.label }}</label>
            {{ form.city }}
            <span class="error_info">{{ form.city.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_email">{{ form.email.label }}</label>
            {{ form.email }}
            <span class="error_info">{{ form.email.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_phone">{{ form.phone.label }}</label>
            {{ form.phone }}
            <span class="error_info">{{ form.phone.errors.0 }}</span>
        </div>

        <div id="books-container">
            <div class="book-group">
                <div class="form-group">
                    <label for="id_book">{{ form.book.label }}</label>
                    {{ form.book }}
                    <span class="error_info">{{ form.book.errors.0 }}</span>
                </div>

                <div class="form-group">
                    <label for="id_quantity">{{ form.quantity.label }}</label>
                    {{ form.quantity }}
                    <span class="error_info">{{ form.quantity.errors.0 }}</span>
                </div>
            </div>
        </div>

        <button type="button" id="add-book" class="btn btn-secondary">Добавить книгу</button>
        <input type="submit" value="Отправить" class="btn btn-primary">
    </form>

    <script>
        document.getElementById('add-book').addEventListener('click', function() {
            var booksContainer = document.getElementById('books-container');
            var bookGroup = document.querySelector('.book-group').cloneNode(true);
            booksContainer.appendChild(bookGroup);
        });
    </script>
{% endblock content %} {% endcomment %}
{% comment %} 
{% block content %}
    <form id="rent-form" action="{% url 'myapp:add_publish' %}" method="post" novalidate>
        {% csrf_token %}

        <div class="form-group">
            <label for="id_name">{{ form.name.label }}</label>
            <select id="fio-select" name="name" class="form-control">
                <option value="">Выберите ФИО</option>
                {% for fio in fio_list %}
                    <option value="{{ fio }}">{{ fio }}</option>
                {% endfor %}
                <option value="other">Другое</option>
            </select>
            <input type="text" id="fio-input" name="new_name" class="form-control" placeholder="Введите новое ФИО" style="display:none;">
            <span class="error_info">{{ form.name.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_iin">{{ form.iin.label }}</label>
            {{ form.iin }}
            <span class="error_info">{{ form.iin.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_date_out">{{ form.date_out.label }}</label>
            {{ form.date_out }}
            <span class="error_info">{{ form.date_out.errors.0 }}</span>
        </div>
        
        <div class="form-group">
            <label for="id_date_in">{{ form.date_in.label }}</label>
            {{ form.date_in }}
            <span class="error_info">{{ form.date_in.errors.0 }}</span>
        </div>
        
        <div class="form-group">
            <label for="id_city">{{ form.city.label }}</label>
            {{ form.city }}
            <span class="error_info">{{ form.city.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_email">{{ form.email.label }}</label>
            {{ form.email }}
            <span class="error_info">{{ form.email.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_phone">{{ form.phone.label }}</label>
            {{ form.phone }}
            <span class="error_info">{{ form.phone.errors.0 }}</span>
        </div>

        <div id="books-container">
            <div class="book-group">
                <div class="form-group">
                    <label for="id_book">{{ form.book.label }}</label>
                    {{ form.book }}
                    <span class="error_info">{{ form.book.errors.0 }}</span>
                </div>

                <div class="form-group">
                    <label for="id_quantity">{{ form.quantity.label }}</label>
                    {{ form.quantity }}
                    <span class="error_info">{{ form.quantity.errors.0 }}</span>
                </div>
            </div>
        </div>

        <button type="button" id="add-book" class="btn btn-secondary">Добавить книгу</button>
        <input type="submit" value="Отправить" class="btn btn-primary">
    </form>

    <script>
        document.getElementById('add-book').addEventListener('click', function() {
            var booksContainer = document.getElementById('books-container');
            var bookGroup = document.querySelector('.book-group').cloneNode(true);
            booksContainer.appendChild(bookGroup);
        });

        document.getElementById('fio-select').addEventListener('change', function() {
            var fioInput = document.getElementById('fio-input');
            if (this.value === 'other') {
                fioInput.style.display = 'block';
            } else {
                fioInput.style.display = 'none';
            }
        });
    </script>
{% endblock content %} {% endcomment %}



{% block content %}
    <form id="rent-form" action="{% url 'myapp:add_publish' %}" method="post" novalidate>
        {% csrf_token %}

        <div class="form-group">
            <label for="id_name">{{ form.name.label }}</label>
            <input list="fio-list" id="fio-input" name="name" class="form-control" placeholder="Введите или выберите ФИО">
            <datalist id="fio-list">
                {% for fio in fio_list %}
                    <option value="{{ fio }}">
                {% endfor %}
            </datalist>
            <span class="error_info">{{ form.name.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_iin">{{ form.iin.label }}</label>
            {{ form.iin }}
            <span class="error_info">{{ form.iin.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_date_out">{{ form.date_out.label }}</label>
            {{ form.date_out }}
            <span class="error_info">{{ form.date_out.errors.0 }}</span>
        </div>
        
        <div class="form-group">
            <label for="id_date_in">{{ form.date_in.label }}</label>
            {{ form.date_in }}
            <span class="error_info">{{ form.date_in.errors.0 }}</span>
        </div>
        
        <div class="form-group">
            <label for="id_city">{{ form.city.label }}</label>
            {{ form.city }}
            <span class="error_info">{{ form.city.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_email">{{ form.email.label }}</label>
            {{ form.email }}
            <span class="error_info">{{ form.email.errors.0 }}</span>
        </div>

        <div class="form-group">
            <label for="id_phone">{{ form.phone.label }}</label>
            {{ form.phone }}
            <span class="error_info">{{ form.phone.errors.0 }}</span>
        </div>

        <div id="books-container">
            <div class="book-group">
                <div class="form-group">
                    <label for="id_book">{{ form.book.label }}</label>
                    {{ form.book }}
                    <span class="error_info">{{ form.book.errors.0 }}</span>
                </div>

                <div class="form-group">
                    <label for="id_quantity">{{ form.quantity.label }}</label>
                    {{ form.quantity }}
                    <span class="error_info">{{ form.quantity.errors.0 }}</span>
                </div>
            </div>
        </div>

        <button type="button" id="add-book" class="btn btn-secondary">Добавить книгу</button>
        <input type="submit" value="Отправить" class="btn btn-primary">
    </form>

    <script>
        document.getElementById('add-book').addEventListener('click', function() {
            var booksContainer = document.getElementById('books-container');
            var bookGroup = document.querySelector('.book-group').cloneNode(true);
            booksContainer.appendChild(bookGroup);
        });
    </script>
{% endblock content %}